<app-gameprogress parent="1" child="2"></app-gameprogress>
<br>

<div class="row" [hidden]="gamePlayers === undefined">
  <span id="savedResponseFlag" class="d-none" *ngIf="savedResponseFlag"></span>

  <div class="col-12 pb-3" [hidden]="isloggedInPlayerDidGuess === true">
    <div class="card">
      <div class="card-header">
        <strong>First Guess</strong>
      </div>
      <div class="card-body">
        <div class="card-subtitle my-4 text-muted text-center">
          <span>Who might be teaming up and having the same word/role?</span>
          <div class="mt-3">This is yours:</div>
          <div class="badge badge-info">{{loggedInGamePlayer?.questionmarkOrWord}}</div>          
        </div>
        <h6 class="card-subtitle mb-2 text-muted">
          Make sure prioritizing to guess you and your partner as team.
        </h6>

        <div class="card-text py-2 h6 text-center">
          <span *ngIf="selectedGamePlayers.length === 0">
            Select first player
          </span>
          <span *ngIf="selectedGamePlayers.length === 1">
            Select the second player
          </span>
          <span *ngIf="selectedGamePlayers.length === 2">
            Want to save choice?
          </span>
        </div>

        <div class="list-group">
          <div class="list-group-item list-group-item-light list-group-item-action d-flex">
            <span>Name</span>
            <span class="ml-auto">Given Synonym</span>
          </div>
          <button id="guess_{{gamePlayer.name}}" *ngFor="let gamePlayer of gamePlayers" class="list-group-item list-group-item-action d-flex"
            [ngClass]="{'active' : selectedGamePlayers.indexOf(gamePlayer) !== -1}" (click)="onTeamPlayerGuessSelected(gamePlayer)">
            <span>{{gamePlayer.name}}</span>
            <span class="ml-auto badge badge-info">{{gamePlayer.firstSynonym}}</span>
          </button>
        </div>

        <button id="saveGuessBtn" class="card-link btn btn-block btn-success mt-3" [disabled]="selectedGamePlayers.length < 2" (click)="saveTeamTip()">
          Save
        </button>
      </div>
    </div>
  </div>

  <div class="col-12" [hidden]="isloggedInPlayerDidGuess === false">
    <div class="card">
      <div class="card-header">
        <strong>Status of players</strong>
      </div>
      <div class="card-body">
        <ul class="list-group list-group-flush">
          <li id="status_{{gamePlayer.name}}" class="list-group-item" [ngClass]="{
              'list-group-item-action active' :
                gamePlayer.status !== PLAYER_STATUS_AFTER_ACTION && isBlinkTickerShown$,
                'list-group-item-success' : gamePlayer.status === PLAYER_STATUS_AFTER_ACTION
              }" *ngFor="let gamePlayer of gamePlayers">
            {{gamePlayer.name}}
            <app-waitingdots *ngIf="gamePlayer.status !== PLAYER_STATUS_AFTER_ACTION"></app-waitingdots>
        </ul>
      </div>
    </div>
  </div>

</div>