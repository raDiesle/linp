<app-gameprogress parent="3" child="5"></app-gameprogress>
<br>
<div class="card">
  <span id="isRealCalculatedHack" class="d-none" *ngIf="isRealCalculatedHack"></span>
  <div class="card-header text-center d-flex justify-content-between align-items-center">
    <strong>Round {{gameRound}} finished</strong>
    <span class="badge badge-warning" *ngIf="isRealCalculatedHack === false">
      Calculating Scores
      <app-waitingdots></app-waitingdots>
    </span>
  </div>

  <div class="card-body">
    <button id="finalizeRoundButton" 
        class="btn btn-success btn-block mb-5" 
        (click)="navigateToFinalizeRound()"
        *ngIf="isRealCalculatedHack">
      Next
    </button>

    <div *ngFor="let gamePlayer of gamePlayers | orderBy: 'questionmarkOrWord'; let $index=index;">
     
      <h3 *ngIf="$index === 0 || $index > numberOfQuestionmarks && ($index + numberOfQuestionmarks) % 2 === 0">
        <!-- {{gamePlayer.questionmarkOrWord}} -->
      </h3>
      <h4 class="mt-3 d-flex justify-content-between align-items-center">
        {{gamePlayer.name}}
        <span class="badge badge-primary">
          {{gamePlayer.questionmarkOrWord}}
        </span>
        <span class="badge badge-primary badge-pill" 
              [ngClass]="{'badge-success' : gamePlayer?.pointsScored.total > 0,
                    'badge-primary' : gamePlayer?.pointsScored.total === 0,
                    'badge-danger' : gamePlayer?.pointsScored.total < 0}">
          {{gamePlayer.pointsScored.total}}
        </span>
      </h4>
      <div class="list-group">
        <div class="list-group-item d-flex justify-content-between align-items-center">
          <span class="mr-2">
            Synonyms
          </span>
          <span>
            <span class="badge badge-primary">
              {{gamePlayer.firstSynonym}}
            </span>
            <span class="badge badge-primary">
              {{gamePlayer.secondSynonym}}
            </span>
          </span>
          <span>
          </span>
        </div>

        <div class="list-group-item d-flex justify-content-between align-items-center">
          1. Guess
          <span>
            <span class="badge badge-primary">
              {{gamePlayer.firstTeamTip?.firstPartner?.name}}
            </span>
            <span class="badge badge-primary">
              {{gamePlayer.firstTeamTip?.secondPartner?.name}}
            </span>
          </span>
          <span class="badge badge-pill" [ngClass]="{'badge-success' : gamePlayer.pointsScored.firstTeamTip > 0,
                    'badge-primary' : gamePlayer.pointsScored.firstTeamTip === 0,
                    'badge-danger' : gamePlayer.pointsScored.firstTeamTip < 0}">
            {{gamePlayer.pointsScored.firstTeamTip}}
          </span>
        </div>

        <div class="list-group-item d-flex justify-content-between align-items-center">
          <span>
            2. Guess
          </span>
          <span>
            <span class="badge badge-primary">
              {{gamePlayer.secondTeamTip?.firstPartner?.name}}
            </span>
            <span class="badge badge-primary">
              {{gamePlayer.secondTeamTip?.secondPartner.name}}
            </span>
          </span>
          <span class="badge badge-pill" [ngClass]="{'badge-success' : gamePlayer.pointsScored.secondTeamTip > 0,
                      'badge-primary' : gamePlayer.pointsScored.secondTeamTip === 0,
                      'badge-danger' : gamePlayer.pointsScored.secondTeamTip < 0}">
            {{gamePlayer.pointsScored.secondTeamTip}}
          </span>
        </div>

        <div class="list-group-item d-flex justify-content-between align-items-center">
          <span *ngIf="gamePlayer.questionmarkOrWord === '?'">
            Indirect Points
            <i class="material-icons md-18" [ngbTooltip]="'You identified other teams +2 or you successful bluffed, so others guessed on you, having a real word +1'">info_outline</i>
          </span>
          <span *ngIf="gamePlayer.questionmarkOrWord !== '?'">
            Indirect Points
            <i class="material-icons md-18" [ngbTooltip]="'You identified other teams +1, or others identified you and your partner -1'">info_outline</i>
          </span>
          <span class="badge badge-pill" [ngClass]="{'badge-success' : gamePlayer.pointsScored.indirect > 0,
                    'badge-primary' : gamePlayer.pointsScored.indirect === 0,
                    'badge-danger' : gamePlayer.pointsScored.indirect < 0}">
            {{gamePlayer.pointsScored.indirect}}
          </span>
        </div>

      </div>
    </div>
  </div>
</div>